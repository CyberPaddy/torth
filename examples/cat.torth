include "lib/std.torth"

function print_help :
  "Syntax: ./cat <file_name>\n" puts 1 exit
end

// Returns: *argv[1]
function get_argv1 -> ptr :
  if argc 1 >= do
    print_help
  elif argc 2 < do
    "The program cannot yet output more than one file.\n" eputs
    print_help
  endif
  argv int.size ptr+ str.load
end

// TODO: Outputting multiple files from multiple arguments 
function main :
  get_argv1 print_file drop
end